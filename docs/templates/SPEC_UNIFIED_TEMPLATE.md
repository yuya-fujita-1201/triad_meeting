# <APP_NAME> - Unified Spec (Template)

**作成日:** <YYYY-MM-DD>  
**バージョン:** 1.0  
**対象:** iOS / Android（Flutter）  
**目的:** Codex / Claude Code に渡しても追加質問が出ないレベルの実装指示

---

## 0. 実装時の基本ルール（質問抑止ポリシー）

- 本書に明記されていない軽微な判断は**質問せずに実装で決める**  
- 仕様に矛盾がある場合は**本書の内容を優先**する  
- MVPでは**「実装コストが低い方」**を選ぶ  
- 外部IDや鍵が必要な箇所は**環境変数・設定ファイルで差し替え可能**にし、  
  未提供の値は**プレースホルダ**で進行してよい  
- ストア申請や法務文言などは**実装と分離**して進行可能とする  

---

## 0.5 フェーズ方針（詰まり防止）

- **Phase 1:** 無料版のみ（課金/RevenueCatは実装しない）  
- **Phase 2:** 課金（RevenueCat）、有料機能、バナー広告の検討  
- フェーズを跨ぐ機能は、**Phase 1でダミーUIのみ**にする  

---

## 0.6 フェーズ別実装範囲（必ず守る）

### Phase 1（公開対象 / 無料版のみ）
- <Phase 1で実装する機能を列挙>

### Phase 2（後続実装）
- <Phase 2でのみ実装する機能を列挙>

---

## 1. プロダクト概要

### 1.1 コンセプト
<一文で>

### 1.2 コア体験（MVP）
1. <体験ステップ1>  
2. <体験ステップ2>  
3. <体験ステップ3>  

### 1.3 主要ペルソナ
- <ペルソナ1>  
- <ペルソナ2>  

---

## 2. 決定済みプロダクト/ストア要件

### 2.1 アプリ名/字幕
- **日本語名:** <TBD>  
- **英語名:** <TBD>  
- **サブタイトル（JP）:** <TBD>  
- **サブタイトル（EN）:** <TBD>

### 2.2 Bundle ID / Application ID / SKU
- **Bundle ID / Application ID:** <TBD>  
- **SKU:** <TBD>

### 2.3 カテゴリ / 年齢制限
- **App Store:** <TBD>  
- **Google Play:** <TBD>  
- **年齢制限:** <TBD>

### 2.4 配信地域 / 価格
- **ローンチ時:** <TBD>  
- **価格:** <TBD>

### 2.5 対応OS / 端末 / 言語
- **iOS:** <TBD>  
- **Android:** <TBD>  
- **言語:** <TBD>

### 2.6 ストア掲載名義
- **開発者名/著作権表記:** <TBD>

---

## 3. 技術スタック（確定）

### 3.1 フロントエンド
- <Flutterバージョン>  
- <状態管理>  
- <HTTP>  
- <ローカルストレージ>  

### 3.2 バックエンド
- <Runtime>  
- <Framework>  
- <言語>  
- <Validation>  
- <Logging>  

### 3.3 AI
- <OpenAI API / モデル>  

### 3.4 DB / インフラ
- <DB>  
- <Hosting>  

---

## 4. アーキテクチャ

```
<アーキテクチャ図>
```

---

## 5. UI/UX仕様

### 5.1 デザインシステム
- **フォント:** <TBD>  
- **カラー:** <TBD>  

### 5.2 画面一覧（MVP）
- <Home>  
- <Deliberation>  
- <Resolution>  
- <History>  
- <Settings>  

### 5.3 画面要件（抜粋）
**Home**  
- <要件>  

**Deliberation**  
- <要件>  

**Resolution**  
- <要件>  

**History**  
- <要件>  

---

## 6. API設計

### ベースURL
```
<TBD>
```

### 認証
- <TBD>

### 6.1 POST /v1/<endpoint>
<用途>

**Request**
```json
{ "example": "..." }
```

**Response**
```json
{ "example": "..." }
```

---

## 7. AIロジック

### 7.1 人格/プロンプト
<人格定義>

### 7.2 議論ルール
<ラウンド構成>

### 7.3 決議ロジック
<投票ロジック>

---

## 8. データベース設計

```
<Firestore or DB structure>
```

---

## 9. 認証フロー

- <フロー>

---

## 10. 課金仕様（Phase 2）

- <価格>  
- <RevenueCat設定>  

---

## 11. 広告仕様（Phase 1）

- <広告仕様>

---

## 12. 分析イベント

**Phase 1**  
- <event>  

**Phase 2**  
- <event>  

---

## 13. セキュリティ / プライバシー

- <方針>

---

## 14. 環境変数

**Backend**
```
<ENV>
```

**App**
```
<ENV>
```

---

## 15. ビルド・リリース（要約）

- <build commands>

---

## 16. 受け入れ基準（MVP）

- <Criteria>

---

## 17. 未決定事項（To Decide）

- <TBD項目を列挙>
