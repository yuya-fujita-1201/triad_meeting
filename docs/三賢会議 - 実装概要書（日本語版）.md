# 三賢会議 - 実装概要書（日本語版）

## プロジェクト概要

**アプリ名:** 三賢会議（さんけんかいぎ）

**キャッチコピー:** 3つの視点で、迷いを終わらせる

**コアコンセプト:** 
異なる視点を持つ3人のAI人格（論理・共感・直感）が合議を行い、「決議書カード」を生成することで、ユーザーの意思決定を支援するアプリ。

**対象プラットフォーム:** モバイルアプリ（iOS/Android）- まずはReact NativeまたはReactを使用したWebプロトタイプから開始

---

## デザインシステム

### カラーパレット

**主要カラー:**
- 背景グラデーション: `#F5F3FF`（薄紫）→ `#E8F4FF`（薄青）
- カード背景: `#FFFFFF`（白）
- テキスト（主）: `#2D3748`（濃いグレー）
- テキスト（副）: `#718096`（中間グレー）

**AI人格カラー:**
- 論理: `#4A5FD9`（深い青）
- 共感: `#FF6B9D`（コーラルピンク）
- 直感: `#FFB800`（ゴールデンイエロー）

**ボタングラデーション:**
- 開始: `#8B7FFF`（紫）
- 終了: `#5B9FFF`（青）

### タイポグラフィ

**フォントファミリー:**
- 主要: `Noto Sans JP`（日本語テキスト用）
- フォールバック: `-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`

**フォントサイズ:**
- アプリタイトル: `28px`、太さ: `700`（Bold）
- キャッチコピー: `14px`、太さ: `400`（Regular）
- AI名: `18px`、太さ: `600`（Semi-bold）
- AIサブタイトル: `12px`、太さ: `400`（Regular）
- 入力プレースホルダ: `14px`、太さ: `400`（Regular）
- ボタンテキスト: `16px`、太さ: `600`（Semi-bold）

### スペーシング

**画面パディング:** 左右 `20px`

**コンポーネント間隔:**
- タイトルとキャッチコピー: `8px`
- キャッチコピーとAIカード: `40px`
- AIカード間（縦）: `16px`
- AIカードと入力欄: `32px`
- 入力欄とボタン: `24px`

**カード寸法:**
- 幅: 上部カード（論理）は全幅、下部カード（共感・直感）は `calc(50% - 8px)`
- 高さ: 自動（最小 `120px`）
- 角丸: `16px`
- シャドウ: `0 2px 8px rgba(0, 0, 0, 0.08)`

---

## 画面1: ホーム画面（初期状態）

### レイアウト構成

```
┌─────────────────────────────────────┐
│  ステータスバー（システム）          │
├─────────────────────────────────────┤
│                                     │
│         三賢会議                     │
│   3つの視点で、迷いを終わらせる      │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  📖  論理                    │   │
│  │      論点整理・合理判断      │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌──────────┐  ┌──────────────┐   │
│  │ ❤️  共感  │  │ ⚡ 直感      │   │
│  │ 気持ち・  │  │ ひらめき・  │   │
│  │ 人間関係  │  │ 次の一手    │   │
│  └──────────┘  └──────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 相談内容（1〜2文でOK）       │   │
│  │ 例：転職するか迷っています   │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │      会議を始める            │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

### コンポーネント仕様

#### 1. アプリタイトルセクション
- アプリ名「三賢会議」を中央に配置
- 下部にキャッチコピー「3つの視点で、迷いを終わらせる」を配置
- フォント: Noto Sans JP、レターススペーシング: 2px

#### 2. AI人格カード

**上部カード（論理）:**
- 全幅のカード
- 左側に4pxの青いアクセントボーダー（`#4A5FD9`）
- アイコン: 本とグラフの組み合わせ（48×48px）
- テキスト: 「論理」「論点整理・合理判断」

**下部カード（共感・直感）:**
- 2つのカードを横並びに配置（各50%幅、間隔16px）
- 共感カード: 左側に4pxのピンクアクセントボーダー（`#FF6B9D`）
  - アイコン: ハートと放射線（48×48px）
  - テキスト: 「共感」「気持ち・人間関係」
- 直感カード: 左側に4pxの黄色アクセントボーダー（`#FFB800`）
  - アイコン: 稲妻と星（48×48px）
  - テキスト: 「直感」「ひらめき・次の一手」

#### 3. 入力フィールド
- 複数行テキスト入力
- プレースホルダ: 「相談内容（1〜2文でOK）\n例：転職するか迷っています」
- 背景: 白（`#FFFFFF`）
- ボーダー: 1px、`#E2E8F0`
- 角丸: 12px
- 最小高さ: 100px

#### 4. 開始ボタン
- テキスト: 「会議を始める」
- 背景: グラデーション（`#8B7FFF` → `#5B9FFF`）
- 角丸: 12px
- シャドウ: `0 4px 12px rgba(139, 127, 255, 0.3)`

---

## アイコン仕様

**重要: 絵文字を使用しないこと。SVGアイコンまたはPNG画像を使用すること。**

### 論理アイコン
- **コンセプト:** 開いた本にグラフ/チャートを重ねたデザイン
- **スタイル:** ラインアート、ミニマル、2pxストローク
- **カラー:** `#4A5FD9`（深い青）
- **フォーマット:** SVGまたはPNG（48×48px、モバイル用に@2xと@3x）

### 共感アイコン
- **コンセプト:** ハートから優しく放射される線
- **スタイル:** ラインアート、ミニマル、2pxストローク
- **カラー:** `#FF6B9D`（コーラルピンク）
- **フォーマット:** SVGまたはPNG（48×48px、モバイル用に@2xと@3x）

### 直感アイコン
- **コンセプト:** 稲妻と星/きらめき
- **スタイル:** ラインアート、ミニマル、2pxストローク
- **カラー:** `#FFB800`（ゴールデンイエロー）
- **フォーマット:** SVGまたはPNG（48×48px、モバイル用に@2xと@3x）

**アイコン生成指示:**
1. 上記仕様に基づいて3つの独立したアイコン画像を生成
2. スケーラビリティのためSVGとして保存、またはPNGで144×144px（@3x密度用）
3. 透明背景を確保
4. すべてのアイコンで一貫したストローク幅（2px）を使用
5. 48×48pxキャンバス内でアイコンを中央配置

---

## 背景グラデーション実装

```css
.screenBackground {
  background: linear-gradient(180deg, #F5F3FF 0%, #E8F4FF 100%);
  min-height: 100vh;
}
```

**React Native用:**
```jsx
import LinearGradient from 'react-native-linear-gradient';

<LinearGradient
  colors={['#F5F3FF', '#E8F4FF']}
  style={styles.container}
>
  {/* コンテンツ */}
</LinearGradient>
```

---

## インタラクション仕様

### ボタンの状態

**通常:**
- 背景: リニアグラデーション `#8B7FFF` → `#5B9FFF`
- シャドウ: `0 4px 12px rgba(139, 127, 255, 0.3)`

**押下時:**
- 背景: リニアグラデーション `#7A6FEE` → `#4A8FEE`（10%暗く）
- シャドウ: `0 2px 6px rgba(139, 127, 255, 0.3)`
- スケール: `0.98`

**無効時:**
- 背景: `#CBD5E0`（グレー）
- シャドウ: なし
- 不透明度: `0.6`

### 入力フィールドの状態

**通常:**
- ボーダー: `1px solid #E2E8F0`
- 背景: `#FFFFFF`

**フォーカス時:**
- ボーダー: `2px solid #8B7FFF`
- 背景: `#FFFFFF`
- シャドウ: `0 0 0 3px rgba(139, 127, 255, 0.1)`

---

## 実装ノート

### 推奨技術スタック
- **フレームワーク:** React Native（iOS/Android用）またはReact（Webプロトタイプ用）
- **状態管理:** React Context APIまたはZustand
- **UIコンポーネント:** カスタムコンポーネント（絵文字ベースのアイコンは避ける）
- **フォント:** Google Fonts（Noto Sans JP）
- **アイコン:** カスタムSVGまたはPNGアセット（別途生成）

### ファイル構造
```
/src
  /components
    AICard.jsx
    InputField.jsx
    StartButton.jsx
  /screens
    HomeScreen.jsx
  /assets
    /icons
      logic.svg
      empathy.svg
      intuition.svg
  /styles
    colors.js
    typography.js
    spacing.js
  /utils
    api.js（AI統合用）
```

### レスポンシブ対応
- iPhone SE（小）、iPhone 14 Pro（標準）、iPhone 14 Pro Max（大）でテスト
- 狭い画面でカードが小さくなりすぎないようにする
- 画面幅 < 360pxの場合は単一列レイアウトを検討

### アクセシビリティ
- 色のコントラスト比がWCAG AA基準（通常テキストで4.5:1）を満たすことを確認
- すべてのインタラクティブ要素に`accessibilityLabel`を追加
- 動的テキストサイズをサポート
- タッチターゲットが最低44×44pxであることを確認

---

## 今後の画面（将来の実装）

### 画面2: 審議画面
- 3人のAIアバターが「考え中」の状態を表示
- 進行状況インジケーターを表示
- AIの応答を順次表示（一度に全部は表示しない）

### 画面3: 決議書カード画面
- 最終決定カードを表示:
  - 決議（推奨/保留/情報不足）
  - 各AIからの票（賛成/反対 + 理由）
  - 使用した前提条件
  - 特定されたリスク
  - 次のステップ（3つのアクション項目）
  - 見直し期限
- SNS用シェアボタン
- 履歴に保存ボタン

### 画面4: 履歴画面
- 過去の相談のリスト
- タグによる検索とフィルター
- 過去の決定を見直す機能

---

## AI統合仕様

### APIエンドポイント構造
```
POST /api/deliberate
{
  "query": "転職するか迷っています。現職は安定していますが、やりがいを感じません。",
  "mode": "standard" // または"comparison"（A/B選択用）
}

レスポンス:
{
  "resolution": {
    "decision": "推奨A",
    "votes": {
      "logic": { "vote": "賛成", "reasoning": "..." },
      "empathy": { "vote": "賛成", "reasoning": "..." },
      "intuition": { "vote": "保留", "reasoning": "..." }
    },
    "assumptions": ["..."],
    "risks": ["..."],
    "next_steps": ["...", "...", "..."],
    "review_date": "2026-01-27"
  }
}
```

### AI人格プロンプト

**論理:**
```
あなたは「論理」という人格のAIです。
データ、コスト、確率、再現性を重視して判断してください。
感情に流されず、客観的な事実に基づいて意見を述べてください。
```

**共感:**
```
あなたは「共感」という人格のAIです。
人間関係、感情、後悔しない選び方を重視して判断してください。
相手の気持ちや周囲への影響を考慮して意見を述べてください。
```

**直感:**
```
あなたは「直感」という人格のAIです。
直感、スピード、突破口、行動を重視して判断してください。
考えすぎずに、今すぐできる次の一手を提案してください。
```

---

## デザイン忠実度要件

- 提供されたモックアップ画像と色、間隔、レイアウトを正確に一致させる
- 指定されたカラーコード（`#F5F3FF`、`#4A5FD9`など）を変更せずに使用
- すべての日本語テキストにNoto Sans JPフォントを使用
- アイコンに絵文字を使用しない - カスタムSVG/PNGアセットを生成
- 一貫した角丸を維持（カードは16px、入力/ボタンは12px）
- シャドウは控えめで、仕様に一致させる

---

## テストチェックリスト

- [ ] 色が仕様と正確に一致している
- [ ] フォントが正しくレンダリングされる（Noto Sans JP）
- [ ] アイコンがカスタムSVG/PNG（絵文字なし）
- [ ] レイアウトが複数の画面サイズでモックアップと一致
- [ ] 入力フィールドが複数行テキストを受け入れる
- [ ] ボタングラデーションが正しくレンダリングされる
- [ ] タッチターゲットが最低44×44px
- [ ] アクセシビリティラベルが存在する
- [ ] 背景グラデーションがスムーズにレンダリングされる

---

## 成果物

1. デザイン仕様に一致する機能的なホーム画面
2. 論理、共感、直感用のカスタムアイコンアセット（SVGまたはPNG）
3. 再利用可能なコンポーネントライブラリ（AICard、InputField、StartButton）
4. iOSとAndroidで動作するレスポンシブレイアウト
5. React/React Nativeのベストプラクティスに従った、クリーンで文書化されたコード

---

## 重要な注意事項

### 絵文字の使用禁止
実装AIがアイコンに絵文字を使用することがありますが、これは避けてください。必ずカスタムSVGまたはPNG画像を生成してください。

### カラーコードの厳守
デザインのブレを防ぐため、指定されたカラーコード（`#FFFFFF`形式）を正確に使用してください。

### フォントの指定
すべての日本語テキストにNoto Sans JPフォントを使用してください。これにより、デザインの一貫性が保たれます。

---

**仕様書終了**
